---
- name: Print Ansible Facts
  hosts: all
  become: false
  gather_facts: true
  tasks:

    - name: Setting facts so that they will be persisted in the fact cache
      ansible.builtin.set_fact:
        one_fact: something
        cacheable: yes

    - name: Gather facts
      ansible.builtin.setup:

    - name: Print facts
      ansible.builtin.debug:
        var: ansible_facts

    - name: Gather facts with module
      ansible.builtin.gather_facts:
